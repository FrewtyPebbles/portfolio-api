{"pgs": {"Getting Started": "# Earwig 0.11.2\n**NOTE: This software is in a beta version, we cannot at this time ensure its stability.**\n\n Earwig is an http server that enables you serve _.py_ and _.ear_ source files alot like how _.php_ source files are served.\n\n## How To Get Started (Basic)\n\n Earwig is easy to setup and get working with only a few steps:\n1. Go into your __settings.txt__ file and change the default port to your desired port.\n2. Make a new file with a __.py__ extension.\n3. Now add that file as a route by adding a line to your __settings.txt__ following the format: _UrlRoute=filepathWithExtension_\n4. Now run your server by entering the following into a terminal:\n```cli\npy earwig.py\n```\nIf all was done correctly, you should be able to find your server hosted at [http://localhost:8000/](http://localhost:8000/) (Assuming you used port 8000)\n\n## How Earwig Works (Abridged)\n\nEarwig redirects the python stdout to the http response for incoming http requests.  In other words, anything that is __print()__ed in your earwig page files will be rendered/be the response for the requested url.", "Configuring Your Server Settings and Globals": "## Configuring Your Server Settings and Globals\n\nEarwig server settings are configured in your _settings.EWS_ file.  A bare bones settings.EWS file might look like this:\n\n```lua\n/!/ Server Settings:\n\nport=8000\nip=localhost\ndevmode=false\n\n/!/ Json User Defined Settings:\n\nhashedAuthParameters~[\"password\", \"securityQuestion\"]\nexampleDict~{\"setting\":\"abc\"}\nstartupMessage~\"SERVER STARTED\"\nexampleNumber~-9.99\nexampleBool~false\n\n/!/ Init File:\n\n@_boot_.py\n\n/!/ Forbidden File Extensions:\n\n!ear\n!py\n!db\n!EWS\n\n/!/ Startup Routes:\n\n~=root.py\n```\n\n---\n\n__NOTE__: The order in which you add settings to your _settings.EWS_ file does not matter.\n\n### IP AND PORT\n\nyour server IP and Port can be defined by adding the following to your settings file:\n\n```lua\nport=8000\nip=localhost\n```\n\nlocalhost is the ip for a localy hosted server.\n\n### DEVMODE\n\n```lua\ndevmode=false\n```\n\n__IMPORTANT__: It is important that when you are deploying your server that _devmode_ is set to _false_.  _devmode_ can cause slowdowns (and potentialy security issues in future versions of earwig) if enabled in your deployed server.\n\n_devmode_ allows for better python error checking when dealing with _.py_ and _.ear_ pages along with other debug features that arent fully implemented yet.  Dev mode also ensures a full recompile of your _.py_ and _.ear_ pages with every request.\n\n### COMMENTS\n\n`/!/` is the prefix for commented lines\n\n### USER DEFINED SETTINGS/GLOBALS\n\n```lua\nsettingName~[\"SomeJson\":{\"AlsoJson\":0,\"StillJson\"}, \"NotNotJson\":-123.456]\nAnotherSetting~\"A string.\"\nAThirdSetting~-3333.3333\nAFourthSetting~123\nAFithSetting~false\n```\n\n_~_ is used as the operator to assign custom settings.  Custom settings can be assigned to any valid json, float, string, integer, or boolean.\n\n### BOOT FILE PATH\n\nThe boot file is a _.py_ script that is executed at the startup of your server.  To define the path to a boot file, use the _@_ prefix before your boot file path in your settings file.\n\nExample:\n\n```lua\n@src/startup/boot.py\n```\n\n### FORBIDDEN EXTENSIONS\n\nForbidden extensions are defined with the prefix _!_.\n\nExample:\n\n```lua\n!db\n!py\n!ear\n```\n\nDeclaring extensions as forbidden will make it impossible for http clients to recieve the raw data from requested files with that extension.\n\n### ROUTING\n\nRouting is how you declare the url routes and their corresponding _.ear_ or _.py_ page file.  Its as easy as `urlroute/urlroute=filepath/file.py` or `urlroute/urlroute=filepath/file.ear`.\n\nExample:\n\n```lua\n~=pages/root.py\nabout=pages/about.py\ncontact=pages/contact.ear\n```\n\n_~_ is used to declare the URL's root route.\n\n`~=pages/root.py` means that `pages/root.py` will handle requests sent to `http://yourdns.com/`\n\n`about=pages/about.py` means that `pages/about.py` will handle requests sent to `http://yourdns.com/about`\n\n`contact=pages/contact.ear` means that `pages/contact.py` will handle requests sent to `http://yourdns.com/contact`\n", "Framework Globals and Accessables": "\n## Framework Globals and Accessables\n\nThese globals can be accessed in any _.py_ or _.ear_ page file as declared in the routes of your _settings.EWS_ file.\n\n---\n\n`R_get[\"requestAttribute\"]`\n\nR_get is a dictionary containing all parameters/attributes of the incoming GET request.\n\n---\n\n`R_post[\"requestAttribute\"]`\n\nR_post is a dictionary containing all parameters/attributes of the incoming POST request.\n\n---\n\n`_BASE_URL`\n\nProvides the Root of the http URL.  Example _http://yourdns.com/_\n\n---\n\n`_FULL_URL`\n\nProvides the full http URL with route.  Example _http://yourdns.com/pages/about_\n\n---\n\n`_PATH_URL`\n\nProvides the path after the base of the page URL. Example _/pages/about_\n\n---\n\n`_ORIGIN`\n\nProvides the address of the origin of the request (ie: the request client's ip).  Can be used to create blacklists dynamically.\n\n---\n\n`_COOKIES`\n\nProvides a dictionary of all of the cookies from the incoming request.\n\n---\n\n`_MIME_TYPE`\n\nThe current mime type for the requested page.\n", "Framework Functions": "\n## Framework Functions\n\nThese functions can be executed in any _.py_ or _.ear_ page file as declared in the routes of your _settings.EWS_ file.\n\n---\n\n`mime_type(mime:str):`\n\nChange the response mime type.  Returns the mime type.\n\n---\n\n`set_headers(headerDict:dict = {})`\n\nSet/add the headers for the response.  Returns the dictionary of all the headers.\n\n---\n\n`set_setting(_setting:str, _newvalue)`\n\nChange/set a setting. returns the setting's new value.\n\n---\n\n`delete_setting(_setting:str) -> bool`\n\nDeletes a setting. Returns true on success, False on failure.\n\n---\n\n`set_route(_route:str, _path:str)`\n\nSets a new or existing route dynamically.  Returns a tuple of ( **_route**, **_path** ).\n\n---\n\n`delete_route(_routeOrPath:str, _isRoute: bool = True) -> bool`\n\nDeletes an existing route.  Returns true on success, fail on failure.\n\n---\n\n`append_setting(_setting:str, _appendvalue)`\n\nAppends the *_appendvalue* to the value of the setting provided.  On failure returns false. On success returns the setting's new value.\n\n---\n\n`pop_setting(_setting, num:int = False)`\n\nPerforms a _.pop()_ on the value of the setting provided.\n", "Auth Tokens": "\n## Auth Tokens\n\n_WARNING: The current standard library auth tokens utilizes SQLite.  Only use this if you wish to use SQLite as your database._\n\n### SYMETRIC AUTH TOKENS\n\nEarwig provides an easy system to set up login tokens and credentials with just a class and a few functions.  With this system you can decide which login parameters are sensitive/hashed.  Auth tokens are both hashed then excrypted.\n\n---\n\n**_CONSTRUCTOR_**\n\n`SymmetricAuthTokens(identifier:str, dbName:str=\"Accounts\", accountTableName:str=\"Accounts\", authTableName:str=\"symetricAuthTokens\")`\n\nThe _SymmetricAuthTokens_ class is used as the main handler for your auth system.  You can initialize the class either in a _with_ statement, or call _.close()_ when no longer in use.  This will initialize the auth token table if not already existing.  Each of its constructor's parameters provide a level of control over your auth system:\n\n - __identifier__ : This is the column name/account parameter in the database that will act as the association between each account and tokens made by those accounts.  The best practice is to make this an account parameter that is not sensitive.\n \n - __dbName__ : This is the name of the _.db_ file that your auth system will connect to.\n \n - __accountTableName__ : This is the name of the table in your auth database that will hold all user accounts.\n \n - __authTableName__ : This is the name of the table in your auth database that will hold all created auth tokens.\n\n---\n\n**_INITIALIZING THE ACCOUNT SYSTEM_**\n\n`.initAccountSystem(requiredParameters:tuple | list = [], authParameters:tuple | list = [], **kwargs:str) -> bool`\n\nThe _.initAccountSystem_ member function is used to initialize the account system.  To maximize performance, this should only be called in a _boot.py_ file.  This function will return true on success and false on failure.  The parameters you provide will determine how your account system will function:\n\n - __requiredParameters__ : The account parameters/database columns that you want to make required in order to successfully make an account.  On success, this will return _true_ and on failure this will return _false_.\n - __authParameters__ : All account parameters/database columns that you would like users to use to login to their account/recive an auth token.\n - __kwargs__ : All and every account parameter that you wish to store in the database/account table should be named as a key and their SQL type should be its value as a string.\n", "Earwig HTML Renderer": "## Earwig HTML Renderer\n\n```python3\nprint(\n eh(\"header\", {}, [\n   eh(\"title\", {}, [\n    \"This is a test site.\"\n   ])\n  ])+\n  eh(\"body\", {}, [\n   eh(\"p\",{},[\n    f\"{z}\"\n   ], ind=z) for z in range(1, 6)\n  ]\n  ).push([\n   eh(\"script\",{},[\n    \"\"\"alert(\"Hello.\")\"\"\"\n   ],singleAttributes=[\"defer\"])\n  ])\n)\n```\n\nThe Earwig HTML Renderer allows you to easier tokenize certain elements and apply indexes to them with the _ind_ attribute.  This allows for easier server side procedural element generation, element sorting, and other useful features that are implemented into the _eh_ class. The above code will render the following HTML:\n\n```html\n<header>\n <title>This is a test site.</title>\n</header>\n<body>\n <p>1</p>\n <p>2</p>\n <p>3</p>\n <p>4</p>\n <p>5</p>\n <script defer>\n  alert(\"Hello.\")\n </script>\n</body>\n```\n"}}